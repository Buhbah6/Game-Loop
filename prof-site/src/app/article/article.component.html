<div class="article-detail-page">
  <!-- Loading State -->
  @if (loading) {
    <div class="container">
      <div class="loading-state">
        <div class="loading-spinner"></div>
        <p>Loading article...</p>
      </div>
    </div>
  }

  <!-- Error State -->
  @if (error && !loading) {
    <div class="container">
      <div class="error-state">
        <h2>Article Not Found</h2>
        <p>The article you're looking for doesn't exist or couldn't be loaded.</p>
        <button routerLink="/articles" class="back-btn">Back to Articles</button>
      </div>
    </div>
  }

  <!-- Article Content -->
  @if (article && !loading && !error) {
    <div class="container">
      <!-- Article Header -->
      <header class="article-header">
        <div class="breadcrumb">
          <a routerLink="/articles" class="breadcrumb-link">Articles</a>
          <span class="breadcrumb-separator">‚Üí</span>
          <span class="breadcrumb-current">Article</span>
        </div>
        
        <div class="article-category">
          <span class="category-badge">Article</span>
        </div>
        
        <h1 class="article-title">{{ article.title }}</h1>
        
        <div class="article-info">
          <div class="author-info">
            <div class="author-avatar">
              <span class="avatar-initial">GD</span>
            </div>
            <div class="author-details">
              <div class="author-name">Game Dev Expert</div>
              <div class="author-bio">Professional game developer and educator</div>
            </div>
          </div>
          
          <div class="article-stats">
            <span class="stat">
              <span class="icon">üìÖ</span>
              {{ getFormattedDate(article.publishedAt || article.createdAt) }}
            </span>
            <span class="stat">
              <span class="icon">‚è±</span>
              5 min read
            </span>
            <span class="stat">
              <span class="icon">üëÅ</span>
              1.2K views
            </span>
          </div>
        </div>
        
        <div class="article-actions">
          <button class="action-btn share-btn" (click)="shareArticle()">
            <span class="icon">üîó</span>
            Share
          </button>
        </div>

        <!-- Cover Image -->
        @if (article.coverImage?.url) {
          <div class="article-cover-image">
            <img 
              [src]="getArticleImageUrl(article)" 
              [alt]="getArticleImageAlt(article)"
              class="cover-image" />
          </div>
        }
      </header>
      
      <!-- Content Layout -->
      <div class="content-layout">
        <!-- Main Article Content -->
        <main class="article-content">
          <!-- Summary -->
          @if (article.summary) {
            <div class="content-summary">
              <p class="summary-text">{{ article.summary }}</p>
            </div>
          }
          
          <!-- Article Body -->
          <div class="content-wrapper" [innerHTML]="article.body"></div>
          
          <!-- Tags -->
          <div class="article-tags-section">
            <h3>Tags</h3>
            <div class="tags-list">
              <span class="tag">Game Development</span>
              <span class="tag">Article</span>
            </div>
          </div>
          
          <!-- Navigation -->
          <div class="article-navigation">
            <a routerLink="/articles" class="nav-btn">
              ‚Üê Back to Articles
            </a>
            <div class="article-actions-bottom">
              <button class="action-btn" (click)="shareArticle()">
                Share Article
              </button>
            </div>
          </div>
        </main>
        
        <!-- Sidebar -->
        <aside class="article-sidebar">
          <!-- Quick Stats -->
          <div class="sidebar-section">
            <h3>Article Stats</h3>
            <div class="article-meta">
              <p><strong>Published:</strong> {{ getFormattedDate(article.publishedAt || article.createdAt) }}</p>
              <p><strong>Reading Time:</strong> 5 min</p>
              <p><strong>Views:</strong> 1.2K</p>
            </div>
          </div>
          
          <!-- Related Articles -->
          @if (relatedArticles.length > 0) {
            <div class="sidebar-section">
              <h3>Related Articles</h3>
              <div class="related-articles">
                @for (relatedArticle of relatedArticles; track relatedArticle.id) {
                  <div class="related-article" (click)="navigateToArticle(relatedArticle)">
                    <div class="related-article-image">
                      @if (relatedArticle.coverImage?.url) {
                        <img 
                          [src]="getArticleImageUrl(relatedArticle)" 
                          [alt]="getArticleImageAlt(relatedArticle)"
                          loading="lazy" />
                      } @else {
                        <div class="image-placeholder"></div>
                      }
                    </div>
                    <div class="related-article-content">
                      <h4 class="related-title">{{ relatedArticle.title }}</h4>
                      <div class="related-meta">
                        <span class="related-author">Game Dev Expert</span>
                        <span class="related-date">{{ getFormattedDate(relatedArticle.publishedAt || relatedArticle.createdAt) }}</span>
                      </div>
                    </div>
                  </div>
                }
              </div>
            </div>
          }
        </aside>
      </div>


    </div>
  }
</div>
